// macOS 风格基础样式
@import 'variables'

// CSS 变量（用于动态主题切换）
:root
  // 浅色模式（默认）
  --bg-primary light-bg-primary
  --bg-secondary light-bg-secondary
  --bg-tertiary light-bg-tertiary
  --text-primary light-text-primary
  --text-secondary light-text-secondary
  --border light-border
  --shadow light-shadow

  // 深色模式变量（通过类切换）
  --dark-bg-primary dark-bg-primary
  --dark-bg-secondary dark-bg-secondary
  --dark-bg-tertiary dark-bg-tertiary
  --dark-text-primary dark-text-primary
  --dark-text-secondary dark-text-secondary
  --dark-border dark-border
  --dark-shadow dark-shadow

  // 浅色模式变量（保留用于兼容）
  --light-bg-primary light-bg-primary
  --light-bg-secondary light-bg-secondary
  --light-bg-tertiary light-bg-tertiary
  --light-text-primary light-text-primary
  --light-text-secondary light-text-secondary
  --light-border light-border
  --light-shadow light-shadow

  // 通用颜色
  --accent accent
  --accent-hover accent-hover
  --success success
  --warning warning
  --error error
  --coffee coffee
  --coffee-hover coffee-hover

// 深色模式：移除 light-theme 类时使用深色
body:not(.light-theme)
  --bg-primary var(--dark-bg-primary)
  --bg-secondary var(--dark-bg-secondary)
  --bg-tertiary var(--dark-bg-tertiary)
  --text-primary var(--dark-text-primary)
  --text-secondary var(--dark-text-secondary)
  --border var(--dark-border)
  --shadow var(--dark-shadow)

body
  font-family -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif
  background var(--bg-primary)
  color var(--text-primary)
  overflow hidden
  // 全局禁止文字选中（主界面/托盘一致），更贴近原生应用交互
  user-select none
  -webkit-user-select none
  -webkit-touch-callout none
  -webkit-font-smoothing antialiased
  -moz-osx-font-smoothing grayscale
  font-feature-settings 'kern' 1
  text-rendering optimizeLegibility
  // 只对颜色应用过渡，不对背景色应用过渡，避免残影
  transition color 0.25s cubic-bezier(0.4, 0, 0.2, 1)
  // 背景色立即切换，不应用过渡
  transition background-color 0s

// 允许在输入控件中正常选中/复制（比如设置页输入框、对话框等）
input,
textarea,
[contenteditable="true"]
  user-select text
  -webkit-user-select text
