// macOS 风格 NTFS 设备标签页样式
@import 'variables'

// 设备容器（统一布局）
.devices-container
  display flex
  flex-direction column
  flex 1
  min-height 0
  padding 24px
  overflow-y auto
  overflow-x hidden

  // 滚动条样式
  &::-webkit-scrollbar
    width 6px

  &::-webkit-scrollbar-track
    background transparent

  &::-webkit-scrollbar-thumb
    background var(--border)
    border-radius 3px

    &:hover
      background var(--accent)

  // 标题区域
  .section-header
    display flex
    justify-content space-between
    align-items center
    margin-bottom 20px
    flex-shrink 0

    h2
      font-size 17px
      font-weight 600
      color var(--text-primary)
      letter-spacing -0.01em
      margin 0

    .header-actions
      display flex
      gap 8px
      align-items center

// 设备列表容器
.devices-list
  display flex
  flex-direction column
  gap 8px
  flex-shrink 0

// 设备项样式（macOS 风格）
.device-item
  background var(--bg-secondary)
  border 1px solid var(--border)
  border-radius 8px
  padding 14px
  transition all 0.15s cubic-bezier(0.4, 0, 0.2, 1)
  position relative
  overflow hidden

  // 悬停效果
  &:hover
    background var(--bg-tertiary)
    border-color var(--border)
    box-shadow 0 1px 3px var(--shadow)

  // 左侧装饰条
  &::before
    content ''
    position absolute
    left 0
    top 0
    bottom 0
    width 3px
    background var(--border)
    transition all 0.15s cubic-bezier(0.4, 0, 0.2, 1)

  // 只读设备
  &.read-only::before
    background var(--warning)

  // 读写设备
  &.read-write::before
    background var(--success)

  // 已卸载设备
  &.unmounted-device::before
    background var(--text-secondary)

// 设备头部
.device-header
  display flex
  justify-content space-between
  align-items center
  margin-bottom 10px

.device-name
  display flex
  align-items center
  gap 8px
  font-size 14px
  font-weight 600
  color var(--text-primary)
  letter-spacing -0.01em

  .device-icon
    width 24px
    height 24px
    display flex
    align-items center
    justify-content center
    background var(--bg-tertiary)
    border-radius 5px
    flex-shrink 0

    // 使用 SVG 图标
    &::before
      content ''
      width 18px
      height 18px
      background-image url('src/imgs/svg/flash-drive.svg')
      background-size contain
      background-repeat no-repeat
      background-position center
      opacity 0.7

// 设备状态标签（macOS 风格）
.device-status
  display inline-flex
  align-items center
  gap 4px
  padding 3px 10px
  border-radius 5px
  font-size 11px
  font-weight 500
  transition all 0.15s cubic-bezier(0.4, 0, 0.2, 1)
  letter-spacing 0.01em

  // 只读状态
  &.read-only
    background rgba(255, 149, 0, 0.15)
    color var(--warning)
    border 1px solid rgba(255, 149, 0, 0.3)

  // 读写状态
  &.read-write
    background rgba(52, 199, 89, 0.15)
    color var(--success)
    border 1px solid rgba(52, 199, 89, 0.3)

    &::before
      content ''
      width 10px
      height 10px
      background-image url('src/imgs/svg/check.svg')
      background-size contain
      background-repeat no-repeat
      background-position center
      filter brightness(0) saturate(100%) invert(60%) sepia(90%) saturate(400%) hue-rotate(120deg) brightness(95%) contrast(90%)

  // 已卸载状态
  &.unmounted
    background rgba(142, 142, 147, 0.15)
    color var(--text-secondary)
    border 1px solid rgba(142, 142, 147, 0.3)

// 设备信息
.device-info
  display flex
  flex-direction column
  gap 6px
  margin-bottom 10px
  padding 10px
  background var(--bg-tertiary)
  border-radius 6px
  border 1px solid var(--border)

.device-info-item
  display flex
  align-items center
  gap 8px
  font-size 12px
  color var(--text-secondary)

  .device-info-label
    font-weight 500
    color var(--text-primary)
    min-width 60px
    flex-shrink 0

  span:not(.device-info-label)
    color var(--text-secondary)
    font-family 'SF Mono', 'Monaco', 'Menlo', 'Courier New', monospace
    font-size 11px
    word-break break-all

// 设备操作按钮
.device-actions
  display flex
  gap 8px
  flex-wrap wrap
  justify-content flex-end

  .mount-btn,
  .unmount-btn
    flex 0 0 auto
    padding 6px 16px
    font-size 12px
    font-weight 500
    border-radius 5px
    transition all 0.15s cubic-bezier(0.4, 0, 0.2, 1)
    position relative
    overflow hidden
    letter-spacing -0.01em
    white-space nowrap

    // 点击效果
    &:active
      transform scale(0.98)

// 空状态（macOS 风格）
.empty-state
  text-align center
  padding 60px 20px
  color var(--text-secondary)
  flex 1
  display flex
  flex-direction column
  justify-content center
  align-items center

  .empty-icon
    width 64px
    height 64px
    margin 0 auto 20px
    display flex
    align-items center
    justify-content center
    background var(--bg-tertiary)
    border-radius 50%
    opacity 0.5
    border 2px dashed var(--border)
    transition all 0.15s cubic-bezier(0.4, 0, 0.2, 1)

    // 使用 SVG 图标
    &::before
      content ''
      width 36px
      height 36px
      background-image url('src/imgs/svg/flash-drive.svg')
      background-size contain
      background-repeat no-repeat
      background-position center
      filter grayscale(1) opacity(0.4)

  p
    font-size 15px
    margin 8px 0
    color var(--text-primary)
    font-weight 500
    letter-spacing -0.01em

  .empty-hint
    font-size 13px
    color var(--text-secondary)
    margin-top 6px

// 已可读写设备列表的特殊样式（现在整合到统一列表中）
.device-item.read-write-device
  border-color var(--success)
  background rgba(52, 199, 89, 0.05)

  &:hover
    background rgba(52, 199, 89, 0.08)
    border-color var(--success)

// 浅色模式调整
body.light-theme
  .device-item
    &:hover
      box-shadow 0 1px 2px var(--light-shadow)

  .device-info
    background var(--light-bg-tertiary)

  .empty-state
    .empty-icon
      background var(--light-bg-tertiary)
      border-color var(--light-border)
